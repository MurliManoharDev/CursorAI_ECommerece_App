<div class="forgot-password-container">
  <div class="forgot-password-card">
    <h2 class="forgot-password-title">Forgot Your Password?</h2>
    <p class="forgot-password-subtitle" *ngIf="!emailSent">
      Enter your email address and we'll send you a link to reset your password.
    </p>

    <!-- Success State -->
    <div class="success-state" *ngIf="emailSent">
      <i class="fas fa-check-circle success-icon"></i>
      <h3>Check Your Email</h3>
      <p>{{ successMessage }}</p>
      <p class="instruction-text">
        Please check your email and click on the link to reset your password. 
        If you don't receive an email within a few minutes, please check your spam folder.
      </p>
      <button class="btn btn-primary" (click)="navigateToLogin()">
        Return to Login
      </button>
    </div>

    <!-- Form State -->
    <div *ngIf="!emailSent">
      <!-- Error Message -->
      <div class="alert alert-danger" *ngIf="errorMessage">
        <i class="fas fa-exclamation-circle"></i>
        {{ errorMessage }}
      </div>

      <form [formGroup]="forgotPasswordForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
          <label for="email" class="form-label">Email Address</label>
          <input 
            type="email"
            id="email"
            class="form-control"
            formControlName="email"
            placeholder="Enter your email address"
            [class.is-invalid]="forgotPasswordForm.get('email')?.invalid && forgotPasswordForm.get('email')?.touched">
          <div class="invalid-feedback" *ngIf="forgotPasswordForm.get('email')?.invalid && forgotPasswordForm.get('email')?.touched">
            <span *ngIf="forgotPasswordForm.get('email')?.errors?.['required']">Email is required</span>
            <span *ngIf="forgotPasswordForm.get('email')?.errors?.['email']">Please enter a valid email address</span>
          </div>
        </div>

        <button 
          type="submit" 
          class="btn btn-primary btn-block"
          [disabled]="forgotPasswordForm.invalid || isLoading">
          <span *ngIf="!isLoading">Send Reset Link</span>
          <span *ngIf="isLoading">
            <i class="fas fa-spinner fa-spin"></i> Sending...
          </span>
        </button>
      </form>

      <!-- Additional Links -->
      <div class="additional-links">
        <p>Remember your password? 
          <a (click)="navigateToLogin()" class="link">Back to Login</a>
        </p>
        <p>Don't have an account? 
          <a (click)="navigateToRegister()" class="link">Sign Up</a>
        </p>
      </div>
    </div>
  </div>
</div>
